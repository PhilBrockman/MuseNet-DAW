{"ast":null,"code":"//    abc_relative_element.js: Definition of the RelativeElement class.\n//    Copyright (C) 2010-2018 Gregory Dyke (gregdyke at gmail dot com) and Paul Rosen\n//\n//    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated\n//    documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation\n//    the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and\n//    to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n//\n//    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n//\n//    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n//    BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n//    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n//    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nvar glyphs = require('./abc_glyphs');\n\nvar RelativeElement = function RelativeElement(c, dx, w, pitch, opt) {\n  opt = opt || {};\n  this.x = 0;\n  this.c = c; // character or path or string\n\n  this.dx = dx; // relative x position\n\n  this.w = w; // minimum width taken up by this element (can include gratuitous space)\n\n  this.pitch = pitch; // relative y position by pitch\n\n  this.scalex = opt.scalex || 1; // should the character/path be scaled?\n\n  this.scaley = opt.scaley || 1; // should the character/path be scaled?\n\n  this.type = opt.type || \"symbol\"; // cheap types.\n\n  this.pitch2 = opt.pitch2;\n  this.linewidth = opt.linewidth;\n  this.klass = opt.klass;\n  this.top = pitch;\n  if (this.pitch2 !== undefined && this.pitch2 > this.top) this.top = this.pitch2;\n  this.bottom = pitch;\n  if (this.pitch2 !== undefined && this.pitch2 < this.bottom) this.bottom = this.pitch2;\n\n  if (opt.thickness) {\n    this.top += opt.thickness / 2;\n    this.bottom -= opt.thickness / 2;\n  }\n\n  if (opt.stemHeight) {\n    if (opt.stemHeight > 0) this.top += opt.stemHeight;else this.bottom += opt.stemHeight;\n  } //if (this.type === \"symbol\") {\n  //\tvar offset = glyphs.getYCorr(this.c);\n  //\tthis.top += offset;\n  //\tthis.bottom += offset;\n  //}\n\n\n  var height = opt.height ? opt.height : 4; // The +1 is to give a little bit of padding.\n\n  this.centerVertically = false;\n\n  switch (this.type) {\n    case \"debug\":\n      this.chordHeightAbove = height;\n      break;\n\n    case \"lyric\":\n      if (opt.position && opt.position === 'below') this.lyricHeightBelow = height;else this.lyricHeightAbove = height;\n      break;\n\n    case \"chord\":\n      if (opt.position && opt.position === 'below') this.chordHeightBelow = height;else this.chordHeightAbove = height;\n      break;\n\n    case \"text\":\n      if (this.pitch === undefined) {\n        if (opt.position && opt.position === 'below') this.chordHeightBelow = height;else this.chordHeightAbove = height;\n      } else this.centerVertically = true;\n\n      break;\n\n    case \"part\":\n      this.partHeightAbove = height;\n      break;\n  }\n};\n\nRelativeElement.prototype.setX = function (x) {\n  this.x = x + this.dx;\n};\n\nRelativeElement.prototype.draw = function (renderer, bartop) {\n  if (this.pitch === undefined) window.console.error(this.type + \" Relative Element y-coordinate not set.\");\n  var y = renderer.calcY(this.pitch);\n\n  switch (this.type) {\n    case \"symbol\":\n      if (this.c === null) return null;\n      var klass = \"symbol\";\n      if (this.klass) klass += \" \" + this.klass;\n      this.graphelem = renderer.printSymbol(this.x, this.pitch, this.c, this.scalex, this.scaley, renderer.addClasses(klass));\n      break;\n\n    case \"debug\":\n      this.graphelem = renderer.renderText(this.x, renderer.calcY(15), \"\" + this.c, \"debugfont\", 'debug-msg', 'start');\n      break;\n\n    case \"barNumber\":\n      this.graphelem = renderer.renderText(this.x, y, \"\" + this.c, \"measurefont\", 'bar-number', \"middle\");\n      break;\n\n    case \"lyric\":\n      this.graphelem = renderer.renderText(this.x, y, this.c, \"vocalfont\", 'lyric', \"middle\");\n      break;\n\n    case \"chord\":\n      this.graphelem = renderer.renderText(this.x, y, this.c, 'gchordfont', \"chord\", \"middle\");\n      break;\n\n    case \"decoration\":\n      this.graphelem = renderer.renderText(this.x, y, this.c, 'annotationfont', \"annotation\", \"middle\", true);\n      break;\n\n    case \"text\":\n      this.graphelem = renderer.renderText(this.x, y, this.c, 'annotationfont', \"annotation\", \"start\", this.centerVertically);\n      break;\n\n    case \"multimeasure-text\":\n      this.graphelem = renderer.renderText(this.x + this.w / 2, y, this.c, 'tempofont', \"rest\", \"middle\", false);\n      break;\n\n    case \"part\":\n      this.graphelem = renderer.renderText(this.x, y, this.c, 'partsfont', \"part\", \"start\");\n      break;\n\n    case \"bar\":\n      this.graphelem = renderer.printStem(this.x, this.linewidth, y, bartop ? bartop : renderer.calcY(this.pitch2));\n      break;\n    // bartop can't be 0\n\n    case \"stem\":\n      this.graphelem = renderer.printStem(this.x, this.linewidth, y, renderer.calcY(this.pitch2));\n      break;\n\n    case \"ledger\":\n      this.graphelem = renderer.printStaveLine(this.x, this.x + this.w, this.pitch);\n      break;\n  }\n\n  if (this.scalex !== 1 && this.graphelem) {\n    this.graphelem.scale(this.scalex, this.scaley, this.x, y);\n  }\n\n  return this.graphelem;\n};\n\nmodule.exports = RelativeElement;","map":{"version":3,"sources":["/Users/philbrockman/coding/MusicalGens/app/http/web/app/node_modules/abcjs/src/write/abc_relative_element.js"],"names":["glyphs","require","RelativeElement","c","dx","w","pitch","opt","x","scalex","scaley","type","pitch2","linewidth","klass","top","undefined","bottom","thickness","stemHeight","height","centerVertically","chordHeightAbove","position","lyricHeightBelow","lyricHeightAbove","chordHeightBelow","partHeightAbove","prototype","setX","draw","renderer","bartop","window","console","error","y","calcY","graphelem","printSymbol","addClasses","renderText","printStem","printStaveLine","scale","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAAC,cAAD,CAApB;;AAEA,IAAIC,eAAe,GAAG,SAASA,eAAT,CAAyBC,CAAzB,EAA4BC,EAA5B,EAAgCC,CAAhC,EAAmCC,KAAnC,EAA0CC,GAA1C,EAA+C;AACpEA,EAAAA,GAAG,GAAGA,GAAG,IAAI,EAAb;AACA,OAAKC,CAAL,GAAS,CAAT;AACA,OAAKL,CAAL,GAASA,CAAT,CAHoE,CAGnD;;AACjB,OAAKC,EAAL,GAAUA,EAAV,CAJoE,CAInD;;AACjB,OAAKC,CAAL,GAASA,CAAT,CALoE,CAKnD;;AACjB,OAAKC,KAAL,GAAaA,KAAb,CANoE,CAMhD;;AACpB,OAAKG,MAAL,GAAcF,GAAG,CAACE,MAAJ,IAAc,CAA5B,CAPoE,CAOrC;;AAC/B,OAAKC,MAAL,GAAcH,GAAG,CAACG,MAAJ,IAAc,CAA5B,CARoE,CAQrC;;AAC/B,OAAKC,IAAL,GAAYJ,GAAG,CAACI,IAAJ,IAAY,QAAxB,CAToE,CASlC;;AAClC,OAAKC,MAAL,GAAcL,GAAG,CAACK,MAAlB;AACA,OAAKC,SAAL,GAAiBN,GAAG,CAACM,SAArB;AACA,OAAKC,KAAL,GAAaP,GAAG,CAACO,KAAjB;AACA,OAAKC,GAAL,GAAWT,KAAX;AACA,MAAI,KAAKM,MAAL,KAAgBI,SAAhB,IAA6B,KAAKJ,MAAL,GAAc,KAAKG,GAApD,EAAyD,KAAKA,GAAL,GAAW,KAAKH,MAAhB;AACzD,OAAKK,MAAL,GAAcX,KAAd;AACA,MAAI,KAAKM,MAAL,KAAgBI,SAAhB,IAA6B,KAAKJ,MAAL,GAAc,KAAKK,MAApD,EAA4D,KAAKA,MAAL,GAAc,KAAKL,MAAnB;;AAC5D,MAAIL,GAAG,CAACW,SAAR,EAAmB;AAClB,SAAKH,GAAL,IAAYR,GAAG,CAACW,SAAJ,GAAc,CAA1B;AACA,SAAKD,MAAL,IAAeV,GAAG,CAACW,SAAJ,GAAc,CAA7B;AACA;;AACD,MAAIX,GAAG,CAACY,UAAR,EAAoB;AACnB,QAAIZ,GAAG,CAACY,UAAJ,GAAiB,CAArB,EACC,KAAKJ,GAAL,IAAYR,GAAG,CAACY,UAAhB,CADD,KAGC,KAAKF,MAAL,IAAeV,GAAG,CAACY,UAAnB;AACD,GA1BmE,CA2BpE;AACA;AACA;AACA;AACA;;;AACA,MAAIC,MAAM,GAAGb,GAAG,CAACa,MAAJ,GAAab,GAAG,CAACa,MAAjB,GAA0B,CAAvC,CAhCoE,CAgC1B;;AAC1C,OAAKC,gBAAL,GAAwB,KAAxB;;AACA,UAAQ,KAAKV,IAAb;AACC,SAAK,OAAL;AACC,WAAKW,gBAAL,GAAwBF,MAAxB;AACA;;AACD,SAAK,OAAL;AACC,UAAIb,GAAG,CAACgB,QAAJ,IAAgBhB,GAAG,CAACgB,QAAJ,KAAiB,OAArC,EACC,KAAKC,gBAAL,GAAwBJ,MAAxB,CADD,KAGC,KAAKK,gBAAL,GAAwBL,MAAxB;AACD;;AACD,SAAK,OAAL;AACC,UAAIb,GAAG,CAACgB,QAAJ,IAAgBhB,GAAG,CAACgB,QAAJ,KAAiB,OAArC,EACC,KAAKG,gBAAL,GAAwBN,MAAxB,CADD,KAGC,KAAKE,gBAAL,GAAwBF,MAAxB;AACD;;AACD,SAAK,MAAL;AACC,UAAI,KAAKd,KAAL,KAAeU,SAAnB,EAA8B;AAC7B,YAAIT,GAAG,CAACgB,QAAJ,IAAgBhB,GAAG,CAACgB,QAAJ,KAAiB,OAArC,EACC,KAAKG,gBAAL,GAAwBN,MAAxB,CADD,KAGC,KAAKE,gBAAL,GAAwBF,MAAxB;AACD,OALD,MAMC,KAAKC,gBAAL,GAAwB,IAAxB;;AACD;;AACD,SAAK,MAAL;AAAa,WAAKM,eAAL,GAAuBP,MAAvB;AAA+B;AAzB7C;AA2BA,CA7DD;;AA+DAlB,eAAe,CAAC0B,SAAhB,CAA0BC,IAA1B,GAAiC,UAAUrB,CAAV,EAAa;AAC7C,OAAKA,CAAL,GAASA,CAAC,GAAC,KAAKJ,EAAhB;AACA,CAFD;;AAIAF,eAAe,CAAC0B,SAAhB,CAA0BE,IAA1B,GAAiC,UAAUC,QAAV,EAAoBC,MAApB,EAA4B;AAC5D,MAAI,KAAK1B,KAAL,KAAeU,SAAnB,EACCiB,MAAM,CAACC,OAAP,CAAeC,KAAf,CAAqB,KAAKxB,IAAL,GAAY,yCAAjC;AACD,MAAIyB,CAAC,GAAGL,QAAQ,CAACM,KAAT,CAAe,KAAK/B,KAApB,CAAR;;AACA,UAAO,KAAKK,IAAZ;AACC,SAAK,QAAL;AACC,UAAI,KAAKR,CAAL,KAAS,IAAb,EAAmB,OAAO,IAAP;AACnB,UAAIW,KAAK,GAAG,QAAZ;AACA,UAAI,KAAKA,KAAT,EAAgBA,KAAK,IAAI,MAAM,KAAKA,KAApB;AAChB,WAAKwB,SAAL,GAAiBP,QAAQ,CAACQ,WAAT,CAAqB,KAAK/B,CAA1B,EAA6B,KAAKF,KAAlC,EAAyC,KAAKH,CAA9C,EAAiD,KAAKM,MAAtD,EAA8D,KAAKC,MAAnE,EAA2EqB,QAAQ,CAACS,UAAT,CAAoB1B,KAApB,CAA3E,CAAjB;AAAyH;;AAC1H,SAAK,OAAL;AACC,WAAKwB,SAAL,GAAiBP,QAAQ,CAACU,UAAT,CAAoB,KAAKjC,CAAzB,EAA4BuB,QAAQ,CAACM,KAAT,CAAe,EAAf,CAA5B,EAAgD,KAAG,KAAKlC,CAAxD,EAA2D,WAA3D,EAAwE,WAAxE,EAAqF,OAArF,CAAjB;AAAgH;;AACjH,SAAK,WAAL;AACC,WAAKmC,SAAL,GAAiBP,QAAQ,CAACU,UAAT,CAAoB,KAAKjC,CAAzB,EAA4B4B,CAA5B,EAA+B,KAAG,KAAKjC,CAAvC,EAA0C,aAA1C,EAAyD,YAAzD,EAAuE,QAAvE,CAAjB;AACA;;AACD,SAAK,OAAL;AACC,WAAKmC,SAAL,GAAiBP,QAAQ,CAACU,UAAT,CAAoB,KAAKjC,CAAzB,EAA4B4B,CAA5B,EAA+B,KAAKjC,CAApC,EAAuC,WAAvC,EAAoD,OAApD,EAA6D,QAA7D,CAAjB;AACA;;AACD,SAAK,OAAL;AACC,WAAKmC,SAAL,GAAiBP,QAAQ,CAACU,UAAT,CAAoB,KAAKjC,CAAzB,EAA4B4B,CAA5B,EAA+B,KAAKjC,CAApC,EAAuC,YAAvC,EAAqD,OAArD,EAA8D,QAA9D,CAAjB;AACA;;AACD,SAAK,YAAL;AACC,WAAKmC,SAAL,GAAiBP,QAAQ,CAACU,UAAT,CAAoB,KAAKjC,CAAzB,EAA4B4B,CAA5B,EAA+B,KAAKjC,CAApC,EAAuC,gBAAvC,EAAyD,YAAzD,EAAuE,QAAvE,EAAiF,IAAjF,CAAjB;AACA;;AACD,SAAK,MAAL;AACC,WAAKmC,SAAL,GAAiBP,QAAQ,CAACU,UAAT,CAAoB,KAAKjC,CAAzB,EAA4B4B,CAA5B,EAA+B,KAAKjC,CAApC,EAAuC,gBAAvC,EAAyD,YAAzD,EAAuE,OAAvE,EAAgF,KAAKkB,gBAArF,CAAjB;AACA;;AACD,SAAK,mBAAL;AACC,WAAKiB,SAAL,GAAiBP,QAAQ,CAACU,UAAT,CAAoB,KAAKjC,CAAL,GAAO,KAAKH,CAAL,GAAO,CAAlC,EAAqC+B,CAArC,EAAwC,KAAKjC,CAA7C,EAAgD,WAAhD,EAA6D,MAA7D,EAAqE,QAArE,EAA+E,KAA/E,CAAjB;AACA;;AACD,SAAK,MAAL;AACC,WAAKmC,SAAL,GAAiBP,QAAQ,CAACU,UAAT,CAAoB,KAAKjC,CAAzB,EAA4B4B,CAA5B,EAA+B,KAAKjC,CAApC,EAAuC,WAAvC,EAAoD,MAApD,EAA4D,OAA5D,CAAjB;AACA;;AACD,SAAK,KAAL;AACC,WAAKmC,SAAL,GAAiBP,QAAQ,CAACW,SAAT,CAAmB,KAAKlC,CAAxB,EAA2B,KAAKK,SAAhC,EAA2CuB,CAA3C,EAA+CJ,MAAD,GAASA,MAAT,GAAgBD,QAAQ,CAACM,KAAT,CAAe,KAAKzB,MAApB,CAA9D,CAAjB;AAA6G;AAAO;;AACrH,SAAK,MAAL;AACC,WAAK0B,SAAL,GAAiBP,QAAQ,CAACW,SAAT,CAAmB,KAAKlC,CAAxB,EAA2B,KAAKK,SAAhC,EAA2CuB,CAA3C,EAA8CL,QAAQ,CAACM,KAAT,CAAe,KAAKzB,MAApB,CAA9C,CAAjB;AAA6F;;AAC9F,SAAK,QAAL;AACC,WAAK0B,SAAL,GAAiBP,QAAQ,CAACY,cAAT,CAAwB,KAAKnC,CAA7B,EAAgC,KAAKA,CAAL,GAAO,KAAKH,CAA5C,EAA+C,KAAKC,KAApD,CAAjB;AAA6E;AAlC/E;;AAoCA,MAAI,KAAKG,MAAL,KAAc,CAAd,IAAmB,KAAK6B,SAA5B,EAAuC;AACtC,SAAKA,SAAL,CAAeM,KAAf,CAAqB,KAAKnC,MAA1B,EAAkC,KAAKC,MAAvC,EAA+C,KAAKF,CAApD,EAAuD4B,CAAvD;AACA;;AACD,SAAO,KAAKE,SAAZ;AACA,CA5CD;;AA8CAO,MAAM,CAACC,OAAP,GAAiB5C,eAAjB","sourcesContent":["//    abc_relative_element.js: Definition of the RelativeElement class.\n//    Copyright (C) 2010-2018 Gregory Dyke (gregdyke at gmail dot com) and Paul Rosen\n//\n//    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated\n//    documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation\n//    the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and\n//    to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n//\n//    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n//\n//    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n//    BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n//    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n//    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar glyphs = require('./abc_glyphs');\n\nvar RelativeElement = function RelativeElement(c, dx, w, pitch, opt) {\n\topt = opt || {};\n\tthis.x = 0;\n\tthis.c = c;      // character or path or string\n\tthis.dx = dx;    // relative x position\n\tthis.w = w;      // minimum width taken up by this element (can include gratuitous space)\n\tthis.pitch = pitch; // relative y position by pitch\n\tthis.scalex = opt.scalex || 1; // should the character/path be scaled?\n\tthis.scaley = opt.scaley || 1; // should the character/path be scaled?\n\tthis.type = opt.type || \"symbol\"; // cheap types.\n\tthis.pitch2 = opt.pitch2;\n\tthis.linewidth = opt.linewidth;\n\tthis.klass = opt.klass;\n\tthis.top = pitch;\n\tif (this.pitch2 !== undefined && this.pitch2 > this.top) this.top = this.pitch2;\n\tthis.bottom = pitch;\n\tif (this.pitch2 !== undefined && this.pitch2 < this.bottom) this.bottom = this.pitch2;\n\tif (opt.thickness) {\n\t\tthis.top += opt.thickness/2;\n\t\tthis.bottom -= opt.thickness/2;\n\t}\n\tif (opt.stemHeight) {\n\t\tif (opt.stemHeight > 0)\n\t\t\tthis.top += opt.stemHeight;\n\t\telse\n\t\t\tthis.bottom += opt.stemHeight;\n\t}\n\t//if (this.type === \"symbol\") {\n\t//\tvar offset = glyphs.getYCorr(this.c);\n\t//\tthis.top += offset;\n\t//\tthis.bottom += offset;\n\t//}\n\tvar height = opt.height ? opt.height : 4; // The +1 is to give a little bit of padding.\n\tthis.centerVertically = false;\n\tswitch (this.type) {\n\t\tcase \"debug\":\n\t\t\tthis.chordHeightAbove = height;\n\t\t\tbreak;\n\t\tcase \"lyric\":\n\t\t\tif (opt.position && opt.position === 'below')\n\t\t\t\tthis.lyricHeightBelow = height;\n\t\t\telse\n\t\t\t\tthis.lyricHeightAbove = height;\n\t\t\tbreak;\n\t\tcase \"chord\":\n\t\t\tif (opt.position && opt.position === 'below')\n\t\t\t\tthis.chordHeightBelow = height;\n\t\t\telse\n\t\t\t\tthis.chordHeightAbove = height;\n\t\t\tbreak;\n\t\tcase \"text\":\n\t\t\tif (this.pitch === undefined) {\n\t\t\t\tif (opt.position && opt.position === 'below')\n\t\t\t\t\tthis.chordHeightBelow = height;\n\t\t\t\telse\n\t\t\t\t\tthis.chordHeightAbove = height;\n\t\t\t} else\n\t\t\t\tthis.centerVertically = true;\n\t\t\tbreak;\n\t\tcase \"part\": this.partHeightAbove = height; break;\n\t}\n};\n\nRelativeElement.prototype.setX = function (x) {\n\tthis.x = x+this.dx;\n};\n\nRelativeElement.prototype.draw = function (renderer, bartop) {\n\tif (this.pitch === undefined)\n\t\twindow.console.error(this.type + \" Relative Element y-coordinate not set.\");\n\tvar y = renderer.calcY(this.pitch);\n\tswitch(this.type) {\n\t\tcase \"symbol\":\n\t\t\tif (this.c===null) return null;\n\t\t\tvar klass = \"symbol\";\n\t\t\tif (this.klass) klass += \" \" + this.klass;\n\t\t\tthis.graphelem = renderer.printSymbol(this.x, this.pitch, this.c, this.scalex, this.scaley, renderer.addClasses(klass)); break;\n\t\tcase \"debug\":\n\t\t\tthis.graphelem = renderer.renderText(this.x, renderer.calcY(15), \"\"+this.c, \"debugfont\", 'debug-msg', 'start'); break;\n\t\tcase \"barNumber\":\n\t\t\tthis.graphelem = renderer.renderText(this.x, y, \"\"+this.c, \"measurefont\", 'bar-number', \"middle\");\n\t\t\tbreak;\n\t\tcase \"lyric\":\n\t\t\tthis.graphelem = renderer.renderText(this.x, y, this.c, \"vocalfont\", 'lyric', \"middle\");\n\t\t\tbreak;\n\t\tcase \"chord\":\n\t\t\tthis.graphelem = renderer.renderText(this.x, y, this.c, 'gchordfont', \"chord\", \"middle\");\n\t\t\tbreak;\n\t\tcase \"decoration\":\n\t\t\tthis.graphelem = renderer.renderText(this.x, y, this.c, 'annotationfont', \"annotation\", \"middle\", true);\n\t\t\tbreak;\n\t\tcase \"text\":\n\t\t\tthis.graphelem = renderer.renderText(this.x, y, this.c, 'annotationfont', \"annotation\", \"start\", this.centerVertically);\n\t\t\tbreak;\n\t\tcase \"multimeasure-text\":\n\t\t\tthis.graphelem = renderer.renderText(this.x+this.w/2, y, this.c, 'tempofont', \"rest\", \"middle\", false);\n\t\t\tbreak;\n\t\tcase \"part\":\n\t\t\tthis.graphelem = renderer.renderText(this.x, y, this.c, 'partsfont', \"part\", \"start\");\n\t\t\tbreak;\n\t\tcase \"bar\":\n\t\t\tthis.graphelem = renderer.printStem(this.x, this.linewidth, y, (bartop)?bartop:renderer.calcY(this.pitch2)); break; // bartop can't be 0\n\t\tcase \"stem\":\n\t\t\tthis.graphelem = renderer.printStem(this.x, this.linewidth, y, renderer.calcY(this.pitch2)); break;\n\t\tcase \"ledger\":\n\t\t\tthis.graphelem = renderer.printStaveLine(this.x, this.x+this.w, this.pitch); break;\n\t}\n\tif (this.scalex!==1 && this.graphelem) {\n\t\tthis.graphelem.scale(this.scalex, this.scaley, this.x, y);\n\t}\n\treturn this.graphelem;\n};\n\nmodule.exports = RelativeElement;\n"]},"metadata":{},"sourceType":"script"}