{"ast":null,"code":"//    abc_dynamic_decoration.js: Definition of the DynamicDecoration class.\n//    Copyright (C) 2010-2018 Gregory Dyke (gregdyke at gmail dot com) and Paul Rosen\n//\n//    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated\n//    documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation\n//    the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and\n//    to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n//\n//    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n//\n//    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n//    BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n//    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n//    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nvar spacing = require('./abc_spacing');\n\nvar DynamicDecoration = function DynamicDecoration(anchor, dec, position) {\n  this.anchor = anchor;\n  this.dec = dec;\n  if (position === 'below') this.volumeHeightBelow = 5;else this.volumeHeightAbove = 5;\n  this.pitch = undefined; // This will be set later\n};\n\nDynamicDecoration.prototype.setUpperAndLowerElements = function (positionY) {\n  if (this.volumeHeightAbove) this.pitch = positionY.volumeHeightAbove;else this.pitch = positionY.volumeHeightBelow;\n};\n\nDynamicDecoration.prototype.draw = function (renderer, linestartx, lineendx) {\n  if (this.pitch === undefined) window.console.error(\"Dynamic Element y-coordinate not set.\");\n  var scalex = 1;\n  var scaley = 1;\n  renderer.printSymbol(this.anchor.x, this.pitch, this.dec, scalex, scaley, renderer.addClasses('decoration'));\n};\n\nmodule.exports = DynamicDecoration;","map":{"version":3,"sources":["/Users/philbrockman/coding/MusicalGens/app/http/web/app/node_modules/abcjs/src/write/abc_dynamic_decoration.js"],"names":["spacing","require","DynamicDecoration","anchor","dec","position","volumeHeightBelow","volumeHeightAbove","pitch","undefined","prototype","setUpperAndLowerElements","positionY","draw","renderer","linestartx","lineendx","window","console","error","scalex","scaley","printSymbol","x","addClasses","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,eAAD,CAArB;;AAEA,IAAIC,iBAAiB,GAAG,SAASA,iBAAT,CAA2BC,MAA3B,EAAmCC,GAAnC,EAAwCC,QAAxC,EAAkD;AACzE,OAAKF,MAAL,GAAcA,MAAd;AACA,OAAKC,GAAL,GAAWA,GAAX;AACA,MAAIC,QAAQ,KAAK,OAAjB,EACC,KAAKC,iBAAL,GAAyB,CAAzB,CADD,KAGC,KAAKC,iBAAL,GAAyB,CAAzB;AACD,OAAKC,KAAL,GAAaC,SAAb,CAPyE,CAOjD;AACxB,CARD;;AAUAP,iBAAiB,CAACQ,SAAlB,CAA4BC,wBAA5B,GAAuD,UAASC,SAAT,EAAoB;AAC1E,MAAI,KAAKL,iBAAT,EACC,KAAKC,KAAL,GAAaI,SAAS,CAACL,iBAAvB,CADD,KAGC,KAAKC,KAAL,GAAaI,SAAS,CAACN,iBAAvB;AACD,CALD;;AAOAJ,iBAAiB,CAACQ,SAAlB,CAA4BG,IAA5B,GAAmC,UAASC,QAAT,EAAmBC,UAAnB,EAA+BC,QAA/B,EAAyC;AAC3E,MAAI,KAAKR,KAAL,KAAeC,SAAnB,EACCQ,MAAM,CAACC,OAAP,CAAeC,KAAf,CAAqB,uCAArB;AACD,MAAIC,MAAM,GAAG,CAAb;AACA,MAAIC,MAAM,GAAG,CAAb;AACAP,EAAAA,QAAQ,CAACQ,WAAT,CAAqB,KAAKnB,MAAL,CAAYoB,CAAjC,EAAoC,KAAKf,KAAzC,EAAgD,KAAKJ,GAArD,EAA0DgB,MAA1D,EAAkEC,MAAlE,EAA0EP,QAAQ,CAACU,UAAT,CAAoB,YAApB,CAA1E;AACA,CAND;;AAQAC,MAAM,CAACC,OAAP,GAAiBxB,iBAAjB","sourcesContent":["//    abc_dynamic_decoration.js: Definition of the DynamicDecoration class.\n//    Copyright (C) 2010-2018 Gregory Dyke (gregdyke at gmail dot com) and Paul Rosen\n//\n//    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated\n//    documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation\n//    the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and\n//    to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n//\n//    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n//\n//    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n//    BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n//    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n//    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar spacing = require('./abc_spacing');\n\nvar DynamicDecoration = function DynamicDecoration(anchor, dec, position) {\n\tthis.anchor = anchor;\n\tthis.dec = dec;\n\tif (position === 'below')\n\t\tthis.volumeHeightBelow = 5;\n\telse\n\t\tthis.volumeHeightAbove = 5;\n\tthis.pitch = undefined; // This will be set later\n};\n\nDynamicDecoration.prototype.setUpperAndLowerElements = function(positionY) {\n\tif (this.volumeHeightAbove)\n\t\tthis.pitch = positionY.volumeHeightAbove;\n\telse\n\t\tthis.pitch = positionY.volumeHeightBelow;\n};\n\nDynamicDecoration.prototype.draw = function(renderer, linestartx, lineendx) {\n\tif (this.pitch === undefined)\n\t\twindow.console.error(\"Dynamic Element y-coordinate not set.\");\n\tvar scalex = 1;\n\tvar scaley = 1;\n\trenderer.printSymbol(this.anchor.x, this.pitch, this.dec, scalex, scaley, renderer.addClasses('decoration'));\n};\n\nmodule.exports = DynamicDecoration;\n"]},"metadata":{},"sourceType":"script"}